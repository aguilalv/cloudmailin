{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"b479ca541ad91726","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877896889,"stop":1736877896932,"duration":43},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"24ae0dc4f995679e","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877896966,"stop":1736877896967,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"46a8fa468382028b","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877896975,"stop":1736877896976,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"654894f69cec32a","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877896980,"stop":1736877896980,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"12ee392f8a166693","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877896987,"stop":1736877896989,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"37a64fdbe6844dc8","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877896998,"stop":1736877896999,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"15324a5122e9c402","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877897008,"stop":1736877897009,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"5f9662439814359d","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877897018,"stop":1736877897020,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"e21697f89d2ac41d","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877897025,"stop":1736877897026,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"5f28bbeb03e8b83a","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877897029,"stop":1736877897029,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"e489d8646d6e5304","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877897032,"stop":1736877897033,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"504f975b96645832","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897036,"stop":1736877897036,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"d56a38a1bcbf9c7d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897039,"stop":1736877897039,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"7a370efc882dca1","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897043,"stop":1736877897043,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"de62f9d83249fc76","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897047,"stop":1736877897047,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"d1a7cf87284e46e2","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897050,"stop":1736877897050,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"9b262b81b8218396","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897054,"stop":1736877897054,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"dd705041c3338389","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897057,"stop":1736877897059,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"32845f693a61bb08","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897061,"stop":1736877897062,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"8d1c95a2eb55007","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897064,"stop":1736877897065,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"7ad807d3e2f6a8d8","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897068,"stop":1736877897069,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"8bf4dd63fe7342c","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897072,"stop":1736877897072,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"60acc9e25af6741d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877897076,"stop":1736877897077,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"ddf5b1bcf1572c59","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736877897080,"stop":1736877897086,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"8be9959902329a2c","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736877897088,"stop":1736877897096,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"7e3bfbedec6d532","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897099,"stop":1736877897103,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"2866791fde8c5ac9","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897113,"stop":1736877897119,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"e30eca46f9624ec6","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897128,"stop":1736877897130,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"6592b34d2542e840","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897139,"stop":1736877897141,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"9f1519de18b0385d","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897149,"stop":1736877897151,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"d44d2391178d9d6f","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897160,"stop":1736877897162,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"bea49df528404c21","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897171,"stop":1736877897173,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"e1399e98b103f8cc","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897182,"stop":1736877897184,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"4901f9a277aecf62","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877897193,"stop":1736877897194,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"3ebe5c47738f7732","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897204,"stop":1736877897204,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"3e44b03fa5baf402","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897207,"stop":1736877897207,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"fa0ff90451933d9b","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897209,"stop":1736877897209,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"161795a7349f2655","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897212,"stop":1736877897213,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"67b8e027d30f06b1","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897215,"stop":1736877897216,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"1421939c63e0610e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897218,"stop":1736877897219,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"68c4d98e96e053c","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897221,"stop":1736877897221,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"43ab3cb64be6c7e2","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897224,"stop":1736877897224,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"4c0a44582362679e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897227,"stop":1736877897231,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"233fd6043c954dab","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897234,"stop":1736877897238,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"4c8ffa3ff66bbe34","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897241,"stop":1736877897244,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"3a4a338bb1b611a9","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897247,"stop":1736877897252,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"e3d2fdf3cd8b6f33","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897256,"stop":1736877897262,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"56f3dcf264946674","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897266,"stop":1736877897272,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"ac673aa7f8092b86","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877897279,"stop":1736877897283,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"bdf7e6cca22217a2","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1736877897292,"stop":1736877897293,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"4fbf8c73bcefecca","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877897297,"stop":1736877897302,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"d5162800de9f6928","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877897309,"stop":1736877897311,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"47c710546ccf71bf","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877897314,"stop":1736877897315,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}