{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"be4b0b358ad86cee","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736946994620,"stop":1736946994642,"duration":22},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"7ea9ffe91f75377a","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736946994675,"stop":1736946994676,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"2f619f3102b299fd","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736946994684,"stop":1736946994686,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"384cb819aac3f7a1","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736946994689,"stop":1736946994690,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"6ba5a4822ba3d7a3","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736946994696,"stop":1736946994697,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"7ff420a09d379c7","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736946994706,"stop":1736946994707,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"1252501d296db930","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736946994716,"stop":1736946994718,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"bbeae173ae880dd","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736946994727,"stop":1736946994728,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"1e41696d26c23c4f","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736946994733,"stop":1736946994734,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"6215343defdec583","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736946994737,"stop":1736946994737,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"2cc3d48dcc6dc428","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736946994740,"stop":1736946994741,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"4f6efe2bccc13478","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994744,"stop":1736946994744,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"235772b75d9cf375","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994747,"stop":1736946994747,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"d1eb110a18a0dca","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994750,"stop":1736946994751,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"7649a44d783e69cc","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994754,"stop":1736946994754,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"613b3f96694dcfeb","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994758,"stop":1736946994758,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"c14ee95ec7d07027","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994762,"stop":1736946994762,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"84350a032a89c145","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994765,"stop":1736946994766,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"b814c530113001d5","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994769,"stop":1736946994769,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"a931bdeaa6767a32","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994772,"stop":1736946994773,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"ba364a8dd39efe2b","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994776,"stop":1736946994777,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"11a46626c68c36ac","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994781,"stop":1736946994781,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"825b28841a3847bd","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736946994784,"stop":1736946994785,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"e6cb58e9ed308e15","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736946994788,"stop":1736946994794,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"3fec50da3bb7a813","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736946994796,"stop":1736946994804,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"523c2a55e57eb9bc","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994807,"stop":1736946994811,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"766b6e34e7b5871c","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994820,"stop":1736946994826,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"e77d4354627d70bb","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994835,"stop":1736946994837,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"e94e545a172a42f7","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994845,"stop":1736946994847,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"fca7b5b4649f3aa1","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994855,"stop":1736946994857,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"b2656d70b6f5a202","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994866,"stop":1736946994867,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"49cc0e2bee420372","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994877,"stop":1736946994878,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"83d476a0ef0e6827","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994888,"stop":1736946994889,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"65e86060ac6ab846","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736946994898,"stop":1736946994899,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"a351fddfdd1d373f","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994908,"stop":1736946994909,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"f005f4aee5fd2ade","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994912,"stop":1736946994912,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"7104672d26c9a664","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994914,"stop":1736946994914,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"222ef562d41bfa27","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994916,"stop":1736946994917,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"2895ecd20b7b1b5d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994920,"stop":1736946994920,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"88db12cb809f688d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994923,"stop":1736946994923,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"e64727ed16204e9e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994926,"stop":1736946994926,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"302e3dabc032f70a","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994928,"stop":1736946994929,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"1341c2231ce1df6a","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994932,"stop":1736946994936,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"e7f6495ee07476a1","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994938,"stop":1736946994942,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"67ee3986168eeb67","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994945,"stop":1736946994948,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"28ff980f9385c00d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994951,"stop":1736946994956,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"fb687eef65067fef","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994960,"stop":1736946994966,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"bd6b3eeccac65ffa","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994969,"stop":1736946994975,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"ea96aee2d2b50f28","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736946994983,"stop":1736946994986,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"e77832b5fd33a5d2","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1736946994995,"stop":1736946994996,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"3d797aa695d3a8e","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736946995000,"stop":1736946995005,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"4f949aab284da7ab","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736946995012,"stop":1736946995013,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"7bb72fdc9af2d78d","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736946995017,"stop":1736946995017,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}