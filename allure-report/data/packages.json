{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"46e27eb982eb5f0c","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736873255600,"stop":1736873255641,"duration":41},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"1dacee09eac63796","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736873255675,"stop":1736873255676,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"cad6b67e69862fb8","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736873255684,"stop":1736873255685,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"8e9dea84bf56db95","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736873255689,"stop":1736873255689,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"3f5567e6aa52fec","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736873255696,"stop":1736873255697,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"36be8a6bc3f79fe","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736873255706,"stop":1736873255708,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"8385350ac3c1b183","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736873255717,"stop":1736873255718,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"da311cffeca8f2cb","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736873255727,"stop":1736873255728,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"56b013b992932af9","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736873255734,"stop":1736873255734,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"2efebece1e05bd60","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736873255737,"stop":1736873255738,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"106664d2146dbbd1","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736873255740,"stop":1736873255741,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"58cf242ee6c0f17a","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255744,"stop":1736873255744,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"cd4faf49076d1b1e","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255747,"stop":1736873255747,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"49ffb7b9c65d240d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255751,"stop":1736873255751,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"d802ad54529a2dcc","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255755,"stop":1736873255755,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"9cbea055143a0b58","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255759,"stop":1736873255759,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"ebe0b1420c49ac83","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255762,"stop":1736873255763,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"62de83e7fca8c4f3","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255766,"stop":1736873255767,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"ae4a2eca9cbff944","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255769,"stop":1736873255770,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"231d0ceda7d12adc","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255773,"stop":1736873255773,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"837eab53e085d6a8","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255776,"stop":1736873255777,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"e654be8b9a33ee78","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255780,"stop":1736873255781,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"d810f86c0f4352b7","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736873255784,"stop":1736873255785,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"b421f2e0e0b38e06","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736873255788,"stop":1736873255794,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"a749b54eed7cd409","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736873255796,"stop":1736873255804,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"c8e95e2b4205ea12","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255807,"stop":1736873255811,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"879f3c0e99626228","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255821,"stop":1736873255827,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"69c23aa6cf2a7b1d","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255836,"stop":1736873255838,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"a37b12fb0ce9faa2","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255846,"stop":1736873255848,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"176424d474071325","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255857,"stop":1736873255859,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"e2232a61091b7d46","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255867,"stop":1736873255869,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"e819c0539ac5dbf5","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255879,"stop":1736873255880,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"413283b75f5d8c96","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255890,"stop":1736873255891,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"7e4c1f3b05fa82a8","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736873255900,"stop":1736873255901,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"1aab15602956f336","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255911,"stop":1736873255911,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"2fe8a01a0d45a83f","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255914,"stop":1736873255914,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"11273609f8ff669a","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255916,"stop":1736873255916,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"e1e85394e196bf04","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255918,"stop":1736873255920,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"6cd41f25249f9519","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255922,"stop":1736873255923,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"6a9cfb25b192da8","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255925,"stop":1736873255925,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"f2e1003c93216c07","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255928,"stop":1736873255928,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"6fe24a8fa3f760b4","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255931,"stop":1736873255931,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"3385bdb2f42b8d8a","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255934,"stop":1736873255938,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"9cfd9947be5d2cf8","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255941,"stop":1736873255944,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"1c8c0748e8846320","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255947,"stop":1736873255951,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"8fb7cbfcc9744dba","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255954,"stop":1736873255959,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"eb3c5464996f1d85","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255962,"stop":1736873255969,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"9aa13406e50ff96","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255972,"stop":1736873255978,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"8024b9594ee54d9e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736873255986,"stop":1736873255990,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"5d42bd0449c835c9","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1736873255998,"stop":1736873256000,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"1bb906433a73b655","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736873256004,"stop":1736873256009,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"19f8fb46682acbd5","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736873256016,"stop":1736873256017,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"52cb3bcc43416828","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736873256021,"stop":1736873256021,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}