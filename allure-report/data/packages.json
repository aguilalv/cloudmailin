{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"70ebebfce06972da","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736787932307,"stop":1736787932339,"duration":32},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"7b0e25e97e860c9","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736787932373,"stop":1736787932374,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"29005894dfc8fc20","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736787932382,"stop":1736787932383,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"b6bdec2bdbe8f6a0","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736787932387,"stop":1736787932387,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"2de8ba31d7d6b37c","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736787932394,"stop":1736787932395,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"538fd57616af4bfa","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736787932404,"stop":1736787932405,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"77ea8a182fa2acb2","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736787932415,"stop":1736787932416,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"1e938f1c0b942ae4","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736787932425,"stop":1736787932426,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"2294c6bf4aeacb7","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736787932431,"stop":1736787932432,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"66a93f005e4b5cd1","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736787932435,"stop":1736787932435,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"fd1f6da86fd983","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736787932438,"stop":1736787932439,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"5cb3b2b9a72c3865","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932442,"stop":1736787932442,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"4e8f834bef314a22","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932445,"stop":1736787932445,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"225e64de214afdd","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932449,"stop":1736787932449,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"4094404bd046af3f","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932453,"stop":1736787932453,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"68c0447c1eefe4ea","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932456,"stop":1736787932456,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"cb55372fe116ebea","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932460,"stop":1736787932460,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"d39781f850e0aac5","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932463,"stop":1736787932465,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"a1e32a7bb5870ef2","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932467,"stop":1736787932468,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"731fae3e39e03a6b","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932470,"stop":1736787932471,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"5e573c4bba3649eb","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932474,"stop":1736787932475,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"482749a731ba3da0","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932478,"stop":1736787932479,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"450bf7ad7091f31d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736787932482,"stop":1736787932483,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"6c38fd77ae6a5a01","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736787932486,"stop":1736787932492,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"40f242eef649b6c","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736787932494,"stop":1736787932502,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"8e56d23c181c4783","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932505,"stop":1736787932509,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"5a991ddec8c547aa","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932519,"stop":1736787932525,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"c09cd40362b817bf","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932534,"stop":1736787932536,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"81112fc2180d21e1","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932544,"stop":1736787932546,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"ff5ff9b62c763703","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932554,"stop":1736787932556,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"4f667f0a4b121c47","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932565,"stop":1736787932567,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"e1de469500b49105","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932576,"stop":1736787932577,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"20b5aee1bc24d41d","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932587,"stop":1736787932589,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"d8ac6fd1be759601","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736787932598,"stop":1736787932599,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"2fbefd11cf26c289","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932609,"stop":1736787932609,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"dea6a35cf0716f58","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932612,"stop":1736787932612,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"f4dc8c5dcec9798e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932614,"stop":1736787932614,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"ea49f8a094410de7","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932616,"stop":1736787932618,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"89c6053fa16ecb83","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932620,"stop":1736787932620,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"9d77cf15733c646b","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932623,"stop":1736787932623,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"bce098c828d22812","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932626,"stop":1736787932626,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"ee717405007945d2","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932629,"stop":1736787932629,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"5ca5449f34a602cb","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932632,"stop":1736787932636,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"e84c9d25a9a936de","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932639,"stop":1736787932643,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"9b1f89b15210b4a5","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932645,"stop":1736787932649,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"6fea2fab1bba9765","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932652,"stop":1736787932657,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"677a1b4dc18c018e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932661,"stop":1736787932667,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"a98ce1834bd59a2c","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932671,"stop":1736787932676,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"ac53bdb304cf11b4","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736787932684,"stop":1736787932688,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"44432389f3913999","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1736787932696,"stop":1736787932697,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"2b5640c471c54c91","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736787932701,"stop":1736787932707,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"6685f06985652150","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736787932713,"stop":1736787932714,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"877c1b5838a9ddb5","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736787932718,"stop":1736787932719,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}