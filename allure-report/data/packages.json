{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"dbfc99d2dbdf9151","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877957172,"stop":1736877957249,"duration":77},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"9a84bfff4f75f21f","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877957284,"stop":1736877957285,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"c4ba8b33a50a2b72","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1736877957293,"stop":1736877957294,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"900ce0435f18d75","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877957298,"stop":1736877957299,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"cca6d5e5b54f46d0","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877957306,"stop":1736877957307,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"71fa5b12017dcf4f","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877957317,"stop":1736877957318,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"60be662743641590","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877957327,"stop":1736877957328,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"f4d69942478a7213","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1736877957338,"stop":1736877957339,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"7fb942993397da7d","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877957345,"stop":1736877957346,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"2c0719f4d24f2429","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877957349,"stop":1736877957349,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"8055fe4aa826f081","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1736877957352,"stop":1736877957353,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"28bf4b760e1a0875","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957356,"stop":1736877957356,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"4a84b41d54a574a","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957359,"stop":1736877957359,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"c2c52a35e250e15c","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957363,"stop":1736877957363,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"cac9fac693ac0d28","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957367,"stop":1736877957367,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"5fd7aa77b53b2601","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957370,"stop":1736877957371,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"4b229273416de749","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957375,"stop":1736877957375,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"9a047f9929e40553","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957378,"stop":1736877957380,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"c1f5fc53bd359d20","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957382,"stop":1736877957383,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"f4edff19fea5cae4","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957385,"stop":1736877957386,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"a8b24a98c54da541","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957389,"stop":1736877957390,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"86b1a58a21b08ac","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957393,"stop":1736877957393,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"7ae7f9813593f3ff","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1736877957397,"stop":1736877957398,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"85d45aaf3d21e3f5","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736877957401,"stop":1736877957407,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"22637839f4fd58ef","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1736877957409,"stop":1736877957417,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"4f53862f002106dc","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957420,"stop":1736877957425,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"5314699aa0e54e57","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957435,"stop":1736877957441,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"b7c1c7a507da08f4","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957451,"stop":1736877957453,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"7b9645322b5aa5c0","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957462,"stop":1736877957464,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"75f87e55d65a8697","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957474,"stop":1736877957476,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"5bd53463bf591faa","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957486,"stop":1736877957488,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"6103a68dd3809612","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957498,"stop":1736877957500,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"6948ac3395022f4f","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957510,"stop":1736877957512,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"ad7d518dfc0d5b55","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1736877957522,"stop":1736877957523,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"8c58bfe536e29767","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957533,"stop":1736877957533,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"4b1e04f624892b8a","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957536,"stop":1736877957536,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"7a9c979c40784f23","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957539,"stop":1736877957539,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"bbe1207a47522f8f","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957541,"stop":1736877957542,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"8359e61477f85211","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957545,"stop":1736877957545,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"fdd333f8484302a9","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957548,"stop":1736877957548,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"104a682b6d7105d7","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957551,"stop":1736877957551,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"e35b220220455236","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957554,"stop":1736877957554,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"7a5cb48176e5150e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957557,"stop":1736877957562,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"d834f203531802bb","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957564,"stop":1736877957568,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"688eca5773cbadf5","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957571,"stop":1736877957575,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"5afbe8ac5768a2ca","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957578,"stop":1736877957583,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"f64fb728e4afb685","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957587,"stop":1736877957594,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"1462018c33b8cad8","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957598,"stop":1736877957604,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"773f70da2d8a689e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1736877957612,"stop":1736877957616,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"ff559c157b377a5f","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1736877957625,"stop":1736877957627,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"4187dec6705f8cf2","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877957631,"stop":1736877957637,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"dddf4dd2ea066097","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877957643,"stop":1736877957645,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"84c0f028d1efeb44","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1736877957649,"stop":1736877957650,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}