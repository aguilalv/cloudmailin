{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"tests.unit.handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"c9599fdc280bdef8","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736877277662,"stop":1736877277701,"duration":39},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"8ae422b7f0d7d910","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736877277736,"stop":1736877277737,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"a967517844f78a57","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736877277745,"stop":1736877277747,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b9c70d5b3d26238cb151aff451bda432"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"e68e6e3eb101b615","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736877277751,"stop":1736877277751,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"63472054659171a5","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736877277758,"stop":1736877277759,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"19e75b63c4ed628d","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736877277768,"stop":1736877277769,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"18e8769a00098849","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736877277778,"stop":1736877277779,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"2700c141b5d4231","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736877277788,"stop":1736877277789,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"dc93d37794d83a58fd4ea5d7ba45b3a0"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"aa4bbda3be678fb6","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736877277795,"stop":1736877277796,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"713a0f5d38c36542","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736877277798,"stop":1736877277799,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"2fd7944e46b468f1","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736877277802,"stop":1736877277802,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"c9fba306190832f7f5befc298444d4f9"}],"uid":"1e88bdf8be6fa1e32f1b2366ff54b632"},{"name":"tests.unit","children":[{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"208e7fca02db6fd1","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277806,"stop":1736877277806,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"35ed528813f133f0","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277809,"stop":1736877277809,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"74a0638c2221e589","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277812,"stop":1736877277813,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"a2df3532b3bfbb26","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277816,"stop":1736877277816,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"2e09a9b219d5e0f9","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277820,"stop":1736877277820,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"732c8ce6c4fe2ce1","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277824,"stop":1736877277824,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"216b99a2fd6056f7","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277827,"stop":1736877277828,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"29653bf64d3a6897","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277830,"stop":1736877277831,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"7198d3fe26bc3923","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277834,"stop":1736877277834,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"ee8946ca669ed1e3","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277837,"stop":1736877277838,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"7612242c1bb0f1e2","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277842,"stop":1736877277842,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"b44e132f3cf13c86","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736877277845,"stop":1736877277846,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8d78f4a6a0ed68dcdc6f039a22bb8697"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"c9eac66d1acf0847","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736877277849,"stop":1736877277855,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"501bff382ecdb6a6","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736877277858,"stop":1736877277866,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"d8ada28708b09846c8c66ad141cf1319"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"2a92cc048fc9cd46","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277869,"stop":1736877277873,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"b5b0c127cf2c1f9d","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277883,"stop":1736877277889,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"53fbf84a9c501b6d","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277898,"stop":1736877277901,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"11947bbeaa560d08","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277909,"stop":1736877277911,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"3dd8a2ee7947c03d","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277919,"stop":1736877277921,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"15ef311a399b784c","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277930,"stop":1736877277932,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"90ee6e6bbd7048f3","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277942,"stop":1736877277943,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"c10cb0c8ffab47b6","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277953,"stop":1736877277954,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"51680fec8e3363ea","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736877277964,"stop":1736877277965,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"10dff5f6f12b5d3642cc0a4336346ce0"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"74c3fa1614801466","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277975,"stop":1736877277975,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"660cefb7784be741","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277978,"stop":1736877277978,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"cbfb2fc5992067b4","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277980,"stop":1736877277981,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"e49b91ac751bd25e","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277983,"stop":1736877277984,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"9f256b2bc65ed15a","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277987,"stop":1736877277987,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"37a896f54ad17458","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277989,"stop":1736877277990,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"9e4a80a1c7d806f0","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277992,"stop":1736877277992,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"8c4b1f24a9f36a4a","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277995,"stop":1736877277995,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"8865a388220d9e41","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877277998,"stop":1736877278003,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"e436bcd8e412ac0e","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278005,"stop":1736877278009,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"e33f36c0979cf2ea","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278012,"stop":1736877278016,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"ea331906c660c9ca","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278019,"stop":1736877278024,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"364aba5619e13bad","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278027,"stop":1736877278034,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"e7ee42ca3ee7cd8d","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278038,"stop":1736877278043,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"84ef5ae1f6e8a690","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736877278051,"stop":1736877278055,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"38f0c3aaee2cd705ce042000e48ba959"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"de929b0a9a437da2","parentUid":"dff5b8f8eec3c0c3c2aa3895415408e1","status":"passed","time":{"start":1736877278064,"stop":1736877278065,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"dff5b8f8eec3c0c3c2aa3895415408e1"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"afcd47c5a38910e0","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736877278069,"stop":1736877278075,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"e3257109b41e25d0","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736877278082,"stop":1736877278083,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"4ffc708740f7cb90","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736877278087,"stop":1736877278087,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1a3cda20207bc22a6e6c4005d89ca157"}],"uid":"f6772fab1eb16954eefa7bdfd38fc185"}]}