{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"tests.unit.handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"fdec9c7ea46c4342","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736873923510,"stop":1736873923558,"duration":48},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"a71e19f981210491","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736873923591,"stop":1736873923593,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"ff52aee7ffc4a2fd","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736873923601,"stop":1736873923602,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b9c70d5b3d26238cb151aff451bda432"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"703ff643c6c878f9","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736873923606,"stop":1736873923606,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"c27a21caac103253","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736873923613,"stop":1736873923614,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"c3387b8f82c5a33e","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736873923623,"stop":1736873923624,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"f1cbf27e96d89010","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736873923633,"stop":1736873923634,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"a673c3d440e08b30","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736873923643,"stop":1736873923644,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"dc93d37794d83a58fd4ea5d7ba45b3a0"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"450a6186b46036f1","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736873923650,"stop":1736873923650,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"e51978c424cfb3e9","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736873923653,"stop":1736873923654,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"12b5e360de78e6d2","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736873923656,"stop":1736873923657,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"c9fba306190832f7f5befc298444d4f9"}],"uid":"1e88bdf8be6fa1e32f1b2366ff54b632"},{"name":"tests.unit","children":[{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"f4489b368b1ac92b","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923660,"stop":1736873923660,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"fee5559cef1268a1","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923663,"stop":1736873923663,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"a43c0564e252ee3d","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923667,"stop":1736873923667,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"2b52533d6e29c280","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923671,"stop":1736873923671,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"a6709771c5c4853b","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923675,"stop":1736873923675,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"44b5fbba69de7c7f","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923678,"stop":1736873923679,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"3d5ce77b51468e44","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923682,"stop":1736873923683,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"f583227a05026eb8","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923685,"stop":1736873923686,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"9d05ea484a511cbc","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923689,"stop":1736873923689,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"6a7cebe0de145426","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923692,"stop":1736873923693,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"4c803e1563cf697e","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923697,"stop":1736873923697,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"c66bf7ce3e053d3e","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736873923700,"stop":1736873923701,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8d78f4a6a0ed68dcdc6f039a22bb8697"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"9d65173c9af18388","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736873923704,"stop":1736873923710,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"f136869b3118618a","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736873923712,"stop":1736873923720,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"d8ada28708b09846c8c66ad141cf1319"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"7aa995a36d8fde02","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923723,"stop":1736873923727,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"16579150785447ff","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923736,"stop":1736873923742,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"b04cc14da50e5769","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923751,"stop":1736873923753,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"4235a13018379f4b","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923761,"stop":1736873923763,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"ba5812ae9fbc2d81","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923771,"stop":1736873923773,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"47a6a47938016388","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923782,"stop":1736873923784,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"3cf4ff5938319da6","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923793,"stop":1736873923795,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"22c33d5dec99197a","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923804,"stop":1736873923805,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"5a03f368aeb4336d","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736873923815,"stop":1736873923816,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"10dff5f6f12b5d3642cc0a4336346ce0"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"85c901e6eff147ac","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923825,"stop":1736873923825,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"1831fbee352287f9","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923828,"stop":1736873923829,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"e466ebb137fdf0f4","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923831,"stop":1736873923831,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"24f24f04ede4124f","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923833,"stop":1736873923834,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"c296e7de09a88516","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923837,"stop":1736873923837,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"87bf556b2316c814","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923840,"stop":1736873923840,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"70499dc26cf036a0","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923842,"stop":1736873923843,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"8501ae00207547f3","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923845,"stop":1736873923845,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"dcfa8ec9dffcce05","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923848,"stop":1736873923852,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"c41d491ce2ccd1b6","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923855,"stop":1736873923859,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"afaaa7eeb31f6b31","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923861,"stop":1736873923865,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"eb6b0f0d6a012669","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923868,"stop":1736873923873,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"549499cf629b59eb","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923876,"stop":1736873923883,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"e65cecfe3a348cb1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923886,"stop":1736873923892,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"96f9f87b4ace26fa","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736873923899,"stop":1736873923903,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"38f0c3aaee2cd705ce042000e48ba959"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"b0f34f1cb1f89310","parentUid":"dff5b8f8eec3c0c3c2aa3895415408e1","status":"passed","time":{"start":1736873923911,"stop":1736873923912,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"dff5b8f8eec3c0c3c2aa3895415408e1"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"1ab93c871bcee461","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736873923917,"stop":1736873923922,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"752ed8d47b2391e5","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736873923928,"stop":1736873923930,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"107f53ac15409c1b","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736873923933,"stop":1736873923934,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1a3cda20207bc22a6e6c4005d89ca157"}],"uid":"f6772fab1eb16954eefa7bdfd38fc185"}]}