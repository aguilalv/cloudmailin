{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"tests.unit.handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"dc0da292f46a16c1","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736785944838,"stop":1736785944861,"duration":23},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"bf7a056a2f1b2a77","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736785944897,"stop":1736785944898,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"2a06a50db32c5bce","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736785944906,"stop":1736785944908,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b9c70d5b3d26238cb151aff451bda432"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"79e45cdd7cc126f9","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736785944912,"stop":1736785944912,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"a18ad0b826ff9455","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736785944919,"stop":1736785944920,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"11cc531977e7805","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736785944929,"stop":1736785944930,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"b9ef9c4a50591e9","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736785944940,"stop":1736785944941,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"8da3ce44ecf01e8","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736785944951,"stop":1736785944952,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"dc93d37794d83a58fd4ea5d7ba45b3a0"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"1597de61743e9585","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736785944957,"stop":1736785944958,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"a41a4e99a69e9a8c","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736785944961,"stop":1736785944962,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"233a396487df5206","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736785944964,"stop":1736785944965,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"c9fba306190832f7f5befc298444d4f9"}],"uid":"1e88bdf8be6fa1e32f1b2366ff54b632"},{"name":"tests.unit","children":[{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"de79edaacf8226c0","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944968,"stop":1736785944968,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"813a86cd2a58eb8a","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944971,"stop":1736785944971,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"92f71521b3d0e7a3","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944975,"stop":1736785944975,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"b4ed00cd26e5fc33","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944979,"stop":1736785944979,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"db5b017ffe46fe62","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944982,"stop":1736785944983,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"abe1fbf952636a6b","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944986,"stop":1736785944986,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"cd4c4fa2bdab8689","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944989,"stop":1736785944991,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"2942ad09fd9243d2","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944993,"stop":1736785944994,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"e8259f4905c307b8","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944996,"stop":1736785944997,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"eb06054b87d288a7","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785944999,"stop":1736785945000,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"bb3b80e0cbdadc94","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785945004,"stop":1736785945004,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"9ec7e493035bdeae","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736785945007,"stop":1736785945008,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8d78f4a6a0ed68dcdc6f039a22bb8697"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"ba489984c358f141","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736785945012,"stop":1736785945018,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"e187c28b4765aa4a","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736785945020,"stop":1736785945028,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"d8ada28708b09846c8c66ad141cf1319"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"d342f24c9115028c","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945031,"stop":1736785945035,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"d2029593cf0e04b7","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945045,"stop":1736785945050,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"de047854f5e3679a","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945059,"stop":1736785945061,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"200bbcfedfa6585","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945070,"stop":1736785945072,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"61097400ec4810fb","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945080,"stop":1736785945082,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"2849fe80e4d719e8","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945091,"stop":1736785945092,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"fbced8c8b13fd1b7","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945102,"stop":1736785945103,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"61ee29454f095826","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945113,"stop":1736785945115,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"df22f04145a0f9cd","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736785945124,"stop":1736785945126,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"10dff5f6f12b5d3642cc0a4336346ce0"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"1752663a75c008fa","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945135,"stop":1736785945135,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"9af253f502d01447","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945139,"stop":1736785945139,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"e08883524816eccc","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945141,"stop":1736785945141,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"2ca658301740a10f","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945143,"stop":1736785945145,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"6620b8803297fa34","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945147,"stop":1736785945147,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"3392a54e014b46ce","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945150,"stop":1736785945150,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"caa3e476726b91b3","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945153,"stop":1736785945153,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"34bb56bb114dbd01","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945155,"stop":1736785945156,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"66075510580d15dd","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945159,"stop":1736785945163,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"7bdf00b3abb99263","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945165,"stop":1736785945169,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"48f08650ae339f8b","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945172,"stop":1736785945176,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"733bfbaa94c4431","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945179,"stop":1736785945183,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"e8f4aac94e400524","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945187,"stop":1736785945193,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"5c75d3365a499ed4","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945197,"stop":1736785945202,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"c6e16a2fd99d1c5f","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736785945210,"stop":1736785945214,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"38f0c3aaee2cd705ce042000e48ba959"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"d9d721a713b8dba2","parentUid":"dff5b8f8eec3c0c3c2aa3895415408e1","status":"passed","time":{"start":1736785945222,"stop":1736785945224,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"dff5b8f8eec3c0c3c2aa3895415408e1"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"389e7d125a93b37e","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736785945228,"stop":1736785945233,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"296dac8f0a695a5f","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736785945239,"stop":1736785945241,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"3627d08e920e4236","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736785945244,"stop":1736785945245,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1a3cda20207bc22a6e6c4005d89ca157"}],"uid":"f6772fab1eb16954eefa7bdfd38fc185"}]}