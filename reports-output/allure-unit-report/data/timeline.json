{"uid":"ab17fc5a4eb3bca4b216b548c7f9fcbc","name":"timeline","children":[{"name":"fv-az1307-636","children":[{"name":"1912-MainThread","children":[{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"9ec247fc83f0bbed","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003796,"stop":1736954003798,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"14fc35a06f7b43fc","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003800,"stop":1736954003801,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"4cef6693ac486f66","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003803,"stop":1736954003803,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"e63b93f2db6d170b","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003832,"stop":1736954003837,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"e8e54bff0a3d9830","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003826,"stop":1736954003829,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"144e32a96310c8b6","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003766,"stop":1736954003767,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_logging_initialization","uid":"41675c4063f917a5","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003884,"stop":1736954003889,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"6870860c6f505c81","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003619,"stop":1736954003620,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_valid_input","uid":"9a69da89644dcfc2","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003616,"stop":1736954003617,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"d8e154463c2d6d4e","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003794,"stop":1736954003794,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"d7b74f7f34da1612","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003599,"stop":1736954003600,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"8177e8e334857e23","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003627,"stop":1736954003627,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"7525df9ae3d98ca7","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003806,"stop":1736954003806,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"e1dd3d629c369048","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003547,"stop":1736954003548,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"9b4f4a0d450e6cb4","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003556,"stop":1736954003558,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"939bafc2f8c5b06","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003609,"stop":1736954003610,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"8c06a92bbd417264","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003653,"stop":1736954003653,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"e28a97b8864df461","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003634,"stop":1736954003635,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"bf84ca65cce48b99","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003645,"stop":1736954003645,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_access_handler_registry_in_view","uid":"94e6a5d8294acf29","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003680,"stop":1736954003684,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"90b9292b9e0080db","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003819,"stop":1736954003823,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"b866e3f314e12f13","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003842,"stop":1736954003848,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_create_app_initializes_handler_registry_correctly","uid":"bd9817037767d005","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003660,"stop":1736954003666,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"779899d2ac96986","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003742,"stop":1736954003744,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"665f596847ca5b24","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003754,"stop":1736954003756,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"26aaf2b0e0c61f8","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003730,"stop":1736954003732,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"bb704bc9e0aaef93","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003631,"stop":1736954003631,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"7b79cddae04d44a6","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003812,"stop":1736954003816,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"2e4fcf7de77a57ab","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003648,"stop":1736954003649,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"baf605f03b8b659b","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003866,"stop":1736954003870,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"b04802f9965c359e","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003896,"stop":1736954003898,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"3fe366c772dc4ab2","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003623,"stop":1736954003623,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"e5fd708169625","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003589,"stop":1736954003590,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"1ba2d7c895989019","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003852,"stop":1736954003858,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"d3f3605cc39173f8","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003638,"stop":1736954003639,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"fb9ea474bce5060c","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003792,"stop":1736954003792,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"b8b01a5b47180032","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003720,"stop":1736954003722,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"9142cbe1228fc33b","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003579,"stop":1736954003580,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"d84c0c55ba6c500e","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003809,"stop":1736954003809,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_health_check_endpoint","uid":"d9fa3f4158f6aa7c","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003878,"stop":1736954003880,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_app_initializes_with_handler_registry","uid":"89018f8b6d9d27b3","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003788,"stop":1736954003788,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"21bda31af341e899","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003569,"stop":1736954003570,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"e14415d5459373f8","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003562,"stop":1736954003562,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"9586abb8c5ff5228","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003656,"stop":1736954003657,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"e5c678780f521b4c","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003693,"stop":1736954003699,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"25c34ff8104020c4","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003669,"stop":1736954003676,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_logs_health_message","uid":"e5c6ec861e52d03e","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003491,"stop":1736954003513,"duration":22},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"269a78b6d1fea909","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003709,"stop":1736954003711,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_matching_subject","uid":"8d01173e40dd08ce","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003606,"stop":1736954003606,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"619a6afc837e60da","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003612,"stop":1736954003613,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"47164bc96ba789ed","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003901,"stop":1736954003902,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"138551d5555e939c","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003777,"stop":1736954003778,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"f9c45e8491b69c5a","parentUid":"532b5ca58534779170191330e2ab6ef4","status":"passed","time":{"start":1736954003641,"stop":1736954003642,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"532b5ca58534779170191330e2ab6ef4"}],"uid":"04c8cb8d02149bc594223ea1e09feba7"}]}