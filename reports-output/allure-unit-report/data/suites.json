{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"tests.unit.handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"973f3bc2a07ebe4c","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736953570278,"stop":1736953570300,"duration":22},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"28fa987a2a5aa894","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736953570333,"stop":1736953570334,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"9dea7f3ab2dffc5b","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1736953570343,"stop":1736953570344,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b9c70d5b3d26238cb151aff451bda432"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"cd4d4679267625bf","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736953570348,"stop":1736953570348,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"28e9ba01b807ee9c","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736953570355,"stop":1736953570357,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"186e7cd78798c97f","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736953570366,"stop":1736953570367,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"d13e53ac63dc3bf7","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736953570378,"stop":1736953570379,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"b9b295824a06b470","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1736953570389,"stop":1736953570390,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"dc93d37794d83a58fd4ea5d7ba45b3a0"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"d4d557ef9eb63832","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736953570396,"stop":1736953570396,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"6d86463878df0137","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736953570399,"stop":1736953570400,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"4ac9b300ce34d33d","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1736953570402,"stop":1736953570403,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"c9fba306190832f7f5befc298444d4f9"}],"uid":"1e88bdf8be6fa1e32f1b2366ff54b632"},{"name":"tests.unit","children":[{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"6dd125b61d48c951","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570406,"stop":1736953570407,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"110a649123b05f8f","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570410,"stop":1736953570410,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"cf076ee9971258f6","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570413,"stop":1736953570414,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"d5a54322f129e55b","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570417,"stop":1736953570417,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"cb5020ed617bccff","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570421,"stop":1736953570421,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"ebc3f185a186bf67","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570425,"stop":1736953570425,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"fbbcc3ce4fb398da","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570428,"stop":1736953570430,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"bd61f16f806d5aeb","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570432,"stop":1736953570433,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"6f086e05e3124606","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570435,"stop":1736953570436,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"4226618e5e67afc0","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570438,"stop":1736953570440,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"5fb8df339bf68af7","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570443,"stop":1736953570443,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"dd1e9afa56915bb8","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1736953570447,"stop":1736953570448,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8d78f4a6a0ed68dcdc6f039a22bb8697"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"be32c36f6475d62f","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736953570451,"stop":1736953570457,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"1363e06e28f8bd9d","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1736953570459,"stop":1736953570467,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"d8ada28708b09846c8c66ad141cf1319"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"6244be9548b102ef","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570470,"stop":1736953570474,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"68c6feec85390842","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570484,"stop":1736953570490,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"872290c4fdfc3ab","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570499,"stop":1736953570501,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"753c6bbd0191f453","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570509,"stop":1736953570511,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"7219a5b8dfd7c67c","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570520,"stop":1736953570522,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"151768723e19b818","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570531,"stop":1736953570532,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"dd35005e5b1fb638","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570542,"stop":1736953570543,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"104f6523ff32783","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570553,"stop":1736953570554,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"5ecc6997f4992ccd","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1736953570564,"stop":1736953570565,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"10dff5f6f12b5d3642cc0a4336346ce0"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"87a87e9bc2cc9b6f","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570575,"stop":1736953570575,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"7adafbe1d637cdb5","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570578,"stop":1736953570578,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"629712ef7a4607b3","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570580,"stop":1736953570581,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"d066fba004495bc9","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570583,"stop":1736953570584,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"eda44f4d8003dba","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570587,"stop":1736953570587,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"c4dc985d4497f9bd","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570590,"stop":1736953570590,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"cac857e9f48c6546","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570592,"stop":1736953570593,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"dcc60a73b0d3a129","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570595,"stop":1736953570595,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"afad7c88989b18c1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570598,"stop":1736953570602,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"bf52adeb99644bb1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570605,"stop":1736953570609,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"2dc3703be501f4b7","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570612,"stop":1736953570615,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"e0e9dabab33329c1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570618,"stop":1736953570623,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"572687354fb80c49","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570627,"stop":1736953570633,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"35da729e56c9d0e1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570637,"stop":1736953570643,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"e274373d84c4e215","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1736953570651,"stop":1736953570654,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"38f0c3aaee2cd705ce042000e48ba959"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"462db82c9a48fc1a","parentUid":"dff5b8f8eec3c0c3c2aa3895415408e1","status":"passed","time":{"start":1736953570663,"stop":1736953570665,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"dff5b8f8eec3c0c3c2aa3895415408e1"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"a65b0fe155d36473","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736953570669,"stop":1736953570675,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"25865282fc510351","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736953570681,"stop":1736953570683,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"4d3ad2bac2811641","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1736953570687,"stop":1736953570687,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1a3cda20207bc22a6e6c4005d89ca157"}],"uid":"f6772fab1eb16954eefa7bdfd38fc185"}]}