{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"58022a69089c2e44","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737372363905,"stop":1737372363926,"duration":21},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"6474155b7227704a","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737372363959,"stop":1737372363960,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"1c846dd567c3ded8","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737372363968,"stop":1737372363969,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"a20a87d2a0219651","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737372363973,"stop":1737372363973,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"e91e949110cea4d3","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737372363980,"stop":1737372363981,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"6d9fd2bf987b2240","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737372363990,"stop":1737372363992,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"34aa07d5f56893a9","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737372364001,"stop":1737372364002,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"7de5a918f049fcfa","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737372364011,"stop":1737372364012,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"3722923e06987750","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737372364018,"stop":1737372364018,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"3c02eafd61a84feb","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737372364021,"stop":1737372364022,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"6cb2a7acad769c9c","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737372364024,"stop":1737372364025,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"31f1fa02b56a628d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364028,"stop":1737372364028,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"750c520a101aafcb","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364031,"stop":1737372364031,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"a01a61f8453c3e01","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364035,"stop":1737372364035,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"f48a94531043ca18","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364039,"stop":1737372364039,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"6d9492df8662239f","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364042,"stop":1737372364042,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"fcc476735850b2a8","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364046,"stop":1737372364046,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"51090440b6a030aa","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364049,"stop":1737372364051,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"63a8281d52fb70a","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364053,"stop":1737372364054,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"e7a3d99d65e738af","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364056,"stop":1737372364056,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"b11e9108c48edd27","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364059,"stop":1737372364060,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"4ad6ad18c509ea9d","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364064,"stop":1737372364064,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"83cdef3d27c82a68","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737372364067,"stop":1737372364068,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"4e854ad14cb3db06","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1737372364071,"stop":1737372364077,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"28ee848384512b4a","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1737372364079,"stop":1737372364087,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"9eb163280cb55b41","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364090,"stop":1737372364094,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"225c0ce99041409","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364103,"stop":1737372364109,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"b6880fb32f360cd4","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364118,"stop":1737372364120,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"627525800af0ca9","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364128,"stop":1737372364130,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"44bb56f796f47825","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364138,"stop":1737372364140,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"91c2dd0cad23092f","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364148,"stop":1737372364150,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"5e041de1b9ec8b2d","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364160,"stop":1737372364161,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"784140ce99588b21","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364170,"stop":1737372364172,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"143e191bf0017e64","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737372364181,"stop":1737372364182,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"9f163a4d8fa76858","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364191,"stop":1737372364191,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"1f24e8a941a79e7d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364194,"stop":1737372364195,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"b2cb0f5c00a00308","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364196,"stop":1737372364197,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"75ac04625a7528b1","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364199,"stop":1737372364200,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"30cf1a5fb85673e7","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364203,"stop":1737372364203,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"9f423d2e6ef6a5b2","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364205,"stop":1737372364206,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"3a824f2059299fe6","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364208,"stop":1737372364208,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"1bf677cccf02ac4e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364211,"stop":1737372364211,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"ea27a097dd27a119","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364214,"stop":1737372364218,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"5475492e20175ef4","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364221,"stop":1737372364224,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"1fc71794db670a75","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364227,"stop":1737372364231,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"5f664f09442c3f36","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364234,"stop":1737372364239,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"20c60344d1c41900","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364242,"stop":1737372364249,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"cc0be37b8bf8c607","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364252,"stop":1737372364258,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"fcf5bc65a3e45e43","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737372364265,"stop":1737372364269,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"e006ecdbb3874a05","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1737372364277,"stop":1737372364278,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"d9aab80392afe69f","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737372364283,"stop":1737372364288,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"ca9a437ff9748014","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737372364294,"stop":1737372364295,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"76ba6df93793a67a","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737372364299,"stop":1737372364300,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}