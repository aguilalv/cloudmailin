{"uid":"83edc06c07f9ae9e47eb6dd1b683e4e2","name":"packages","children":[{"name":"tests.unit","children":[{"name":"handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"99fd9438939c98b3","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737373315528,"stop":1737373315563,"duration":35},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"14eaab29d071b2f7","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737373315595,"stop":1737373315597,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"1e16f4a5ed567aee","parentUid":"bcb8fd9c5ec8e758a8d9b2bbc588d072","status":"passed","time":{"start":1737373315604,"stop":1737373315606,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"bcb8fd9c5ec8e758a8d9b2bbc588d072"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"f3cd1b41be807f58","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737373315609,"stop":1737373315610,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"bacd08605037ba6c","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737373315617,"stop":1737373315618,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"cf894e457147c0d4","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737373315627,"stop":1737373315628,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"13f7147c10d07c22","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737373315637,"stop":1737373315638,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"e57f330844e798c8","parentUid":"c68f29d112d2a5d05a140d8a226c6fa4","status":"passed","time":{"start":1737373315647,"stop":1737373315648,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"c68f29d112d2a5d05a140d8a226c6fa4"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"84fc438bf8d3bc88","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737373315653,"stop":1737373315654,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"c43ad092adb979d9","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737373315656,"stop":1737373315657,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"d64e14be4d0ea30a","parentUid":"a62737d6c7b58ee2ebde2365a19de5c3","status":"passed","time":{"start":1737373315660,"stop":1737373315660,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"a62737d6c7b58ee2ebde2365a19de5c3"}],"uid":"e779c74dfc5ce472b73ad882eaff05d6"},{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"b6ed89e6ecf4cc3a","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315664,"stop":1737373315664,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"61f99092bc08eea7","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315667,"stop":1737373315667,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"596040ee14806df4","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315670,"stop":1737373315671,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"d227a6c7a1676c92","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315674,"stop":1737373315674,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"bf1f77b9ff7d6045","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315678,"stop":1737373315678,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"8074dfa2dbb514a3","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315681,"stop":1737373315682,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"d2b41bf28231a30c","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315685,"stop":1737373315686,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"12cd6347a8657c77","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315688,"stop":1737373315689,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"b1842eedd6a724c9","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315692,"stop":1737373315692,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"cd620ed310dbecdd","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315695,"stop":1737373315696,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"7ebcc9484e253394","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315699,"stop":1737373315699,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"7351b99a2f7a59b5","parentUid":"104659a4c823267ecdf682ffae5b017b","status":"passed","time":{"start":1737373315703,"stop":1737373315704,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"104659a4c823267ecdf682ffae5b017b"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"962f455a4fdd367a","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1737373315707,"stop":1737373315712,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"1dc8758cdb4fbbc3","parentUid":"48ea63c2cc0fb8b25c4557892c0d7576","status":"passed","time":{"start":1737373315714,"stop":1737373315722,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"48ea63c2cc0fb8b25c4557892c0d7576"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"f649e3674f80fc80","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315725,"stop":1737373315729,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"ffcb1a51a483a0b","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315739,"stop":1737373315744,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"997c24faf5a72c49","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315753,"stop":1737373315755,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"c14439de70acb847","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315763,"stop":1737373315765,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"70bd257a5d9aca33","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315773,"stop":1737373315775,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"72c07703e544149","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315784,"stop":1737373315786,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"9d8af2ef4e5c43e3","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315795,"stop":1737373315797,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"8063c8882110622e","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315806,"stop":1737373315807,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"ff8103382f38a860","parentUid":"049024fe1473a006b911e422725c9383","status":"passed","time":{"start":1737373315817,"stop":1737373315818,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"049024fe1473a006b911e422725c9383"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"2f218c2a59fd081d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315827,"stop":1737373315827,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"c1fd4a807aee9a56","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315830,"stop":1737373315830,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"b619d806e5e24d8e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315832,"stop":1737373315833,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"cce23a64b1bf0259","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315835,"stop":1737373315836,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"5191bc2a4c20467f","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315838,"stop":1737373315839,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"d259dd05f6171446","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315841,"stop":1737373315841,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"328c9ac83da5ac0e","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315844,"stop":1737373315844,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"5d79f7d8cc442d7d","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315847,"stop":1737373315847,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"630b20fe2aac8761","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315850,"stop":1737373315854,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"27ad9679263d7386","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315857,"stop":1737373315861,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"d30e4b5b6a1f72e2","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315864,"stop":1737373315867,"duration":3},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"26cbae2d0206be96","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315870,"stop":1737373315875,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"655c0ece5d052fc9","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315878,"stop":1737373315885,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"4c30b95b45ae61de","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315888,"stop":1737373315894,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"10775fa0784fb1b4","parentUid":"34450e8adba40cad554c14f57dc8bea2","status":"passed","time":{"start":1737373315901,"stop":1737373315905,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"34450e8adba40cad554c14f57dc8bea2"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"4f0ef85e3d4f0f0","parentUid":"8e18a3a64ac6198496c5a6e72544ab20","status":"passed","time":{"start":1737373315913,"stop":1737373315914,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8e18a3a64ac6198496c5a6e72544ab20"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"83d7d6e5b9846714","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737373315918,"stop":1737373315923,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"35fad97f969d8f19","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737373315930,"stop":1737373315931,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"aec05024ee25a9d6","parentUid":"6ea2e2abb280731efb9b8d6cf7a66d4d","status":"passed","time":{"start":1737373315935,"stop":1737373315935,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"6ea2e2abb280731efb9b8d6cf7a66d4d"}],"uid":"tests.unit"}]}