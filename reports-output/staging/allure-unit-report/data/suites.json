{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"tests.unit.handlers","children":[{"name":"test_base_handler","children":[{"name":"test_base_handler_logs_health_message","uid":"7843462913a05c5d","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1737025518368,"stop":1737025518404,"duration":36},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_executes_steps_in_order","uid":"59ca5106590af550","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1737025518438,"stop":1737025518439,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_base_handler_stores_final_email_model","uid":"1b20f16b20be8c52","parentUid":"b9c70d5b3d26238cb151aff451bda432","status":"passed","time":{"start":1737025518447,"stop":1737025518448,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b9c70d5b3d26238cb151aff451bda432"},{"name":"test_campaign_classifier_handler","children":[{"name":"test_campaign_classifier_handler_has_correct_steps","uid":"e987a61e30058e78","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1737025518453,"stop":1737025518453,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Special Sale-promotion]","uid":"a6ba04d00caa3e74","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1737025518461,"stop":1737025518462,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'promotion'","'subject'","'Special Sale'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Meeting Invitation-unclassified]","uid":"39253ebc053305f","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1737025518471,"stop":1737025518472,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Meeting Invitation'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Weekly Newsletter-unclassified]","uid":"8f0cc8db61192a73","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1737025518482,"stop":1737025518483,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Weekly Newsletter'"],"tags":[]},{"name":"test_campaign_classifier_handler_integration[subject-Random Subject-unclassified]","uid":"9858ba6a63f51660","parentUid":"dc93d37794d83a58fd4ea5d7ba45b3a0","status":"passed","time":{"start":1737025518493,"stop":1737025518494,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'unclassified'","'subject'","'Random Subject'"],"tags":[]}],"uid":"dc93d37794d83a58fd4ea5d7ba45b3a0"},{"name":"test_steps","children":[{"name":"test_assign_campaign_type_with_matching_subject","uid":"2537379b5ce8531a","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1737025518500,"stop":1737025518501,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_with_no_match","uid":"8547ea0694c3eb97","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1737025518504,"stop":1737025518504,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_assign_campaign_type_does_not_modify_unrelated_fields","uid":"53f9459605855f2e","parentUid":"c9fba306190832f7f5befc298444d4f9","status":"passed","time":{"start":1737025518507,"stop":1737025518508,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"c9fba306190832f7f5befc298444d4f9"}],"uid":"1e88bdf8be6fa1e32f1b2366ff54b632"},{"name":"tests.unit","children":[{"name":"test_email_schema","children":[{"name":"test_flatten_payload_valid_input","uid":"68e1a3e3054fbea1","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518511,"stop":1737025518511,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_flatten_payload_missing_fields[envelope.to-recipient]","uid":"13a6cbe0c000da6f","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518514,"stop":1737025518515,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'recipient'","'envelope.to'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.subject-subject]","uid":"1584f72eea79236a","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518518,"stop":1737025518519,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'subject'","'headers.subject'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[plain-plain]","uid":"e6db2cade5302ae2","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518522,"stop":1737025518522,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'plain'","'plain'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[html-html]","uid":"e408e5d34fa0a469","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518526,"stop":1737025518526,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'html'","'html'"],"tags":[]},{"name":"test_flatten_payload_missing_fields[headers.date-date]","uid":"962dc0739c8d3b3c","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518530,"stop":1737025518530,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'date'","'headers.date'"],"tags":[]},{"name":"test_flatten_payload_invalid_input","uid":"117479c86f65e374","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518533,"stop":1737025518535,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_from_flat_data_creates_valid_email","uid":"c1547316820c54e2","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518537,"stop":1737025518538,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_valid_input","uid":"1fe5db50c60f5fc9","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518541,"stop":1737025518541,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[envelope.from-Missing required fields]","uid":"213c031fdfcecb49","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518544,"stop":1737025518545,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'envelope.from'"],"tags":[]},{"name":"test_preprocess_payload_missing_required_fields[headers.subject-Missing required fields]","uid":"3bbe861ccaf9d25f","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518549,"stop":1737025518549,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Missing required fields'","'headers.subject'"],"tags":[]},{"name":"test_preprocess_payload_invalid_date","uid":"fb5cc08308c4d76b","parentUid":"8d78f4a6a0ed68dcdc6f039a22bb8697","status":"passed","time":{"start":1737025518552,"stop":1737025518553,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8d78f4a6a0ed68dcdc6f039a22bb8697"},{"name":"test_factory","children":[{"name":"test_create_app_initializes_handler_registry_correctly","uid":"e1981783ae072a0c","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1737025518557,"stop":1737025518563,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_config","uid":"c18c05a3b0cfac52","parentUid":"d8ada28708b09846c8c66ad141cf1319","status":"passed","time":{"start":1737025518566,"stop":1737025518574,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"d8ada28708b09846c8c66ad141cf1319"},{"name":"test_generic_view","children":[{"name":"test_access_handler_registry_in_view","uid":"9af6b98659775546","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518577,"stop":1737025518581,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_selects_correct_handler","uid":"23fb361d13572f0c","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518592,"stop":1737025518598,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_calls_handler_handle","uid":"3c55f43c7cb22775","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518608,"stop":1737025518610,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_valid_payload_returns_200","uid":"47ec3979934cb8fe","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518619,"stop":1737025518621,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_returns_status_and_handler","uid":"bd4ded222c815637","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518630,"stop":1737025518632,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_generic_view_invalid_input[envelope.from-invalid-email-Validation failed]","uid":"e4cb4ffca42f4b80","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518642,"stop":1737025518643,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'","'invalid-email'"],"tags":[]},{"name":"test_generic_view_invalid_input[headers.date-Invalid Date-Validation failed]","uid":"c5a804889cba2661","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518654,"stop":1737025518655,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.date'","'Invalid Date'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[headers.subject-Validation failed]","uid":"27dbe681782460d9","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518665,"stop":1737025518667,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'headers.subject'"],"tags":[]},{"name":"test_generic_view_missing_required_fields[envelope.from-Validation failed]","uid":"459f3c66ac786f3","parentUid":"10dff5f6f12b5d3642cc0a4336346ce0","status":"passed","time":{"start":1737025518677,"stop":1737025518678,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'Validation failed'","'envelope.from'"],"tags":[]}],"uid":"10dff5f6f12b5d3642cc0a4336346ce0"},{"name":"test_handler_registry","children":[{"name":"test_app_initializes_with_handler_registry","uid":"33f31375a57f99cc","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518688,"stop":1737025518688,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_register_and_retrieve","uid":"1c4ba80ff86a1aa9","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518691,"stop":1737025518691,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_defaults_to_generic_handler","uid":"65fbb6b3301b3c1","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518693,"stop":1737025518694,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[None]","uid":"f159eb1d7aac24ec","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518696,"stop":1737025518697,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["None"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[123]","uid":"9a6fa910b206caf4","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518700,"stop":1737025518700,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["123"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[not_a_class]","uid":"a1351cbfc60fbe51","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518703,"stop":1737025518703,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'not_a_class'"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler3]","uid":"3b095a43fb3ab4b8","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518706,"stop":1737025518706,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["[]"],"tags":[]},{"name":"test_handler_registry_rejects_invalid_handler[invalid_handler4]","uid":"2f487ffb7206d178","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518709,"stop":1737025518709,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["{}"],"tags":[]},{"name":"test_valid_yaml_config_has_expected_keys","uid":"6c95e40945874ae3","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518712,"stop":1737025518717,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_steps","uid":"dd8247aed3f6f023","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518719,"stop":1737025518723,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_valid_yaml_config_parses_senders","uid":"e78e16bdfcb2f620","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518726,"stop":1737025518730,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_load_invalid_yaml_configs[root-modification0]","uid":"93600a6e99df3571","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518733,"stop":1737025518738,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'root'","{'invalid_root': 'something'}"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.steps-None]","uid":"394651963931a2e4","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518742,"stop":1737025518749,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.steps'","None"],"tags":[]},{"name":"test_load_invalid_yaml_configs[handlers.CampaignClassifierHandler.senders-None]","uid":"10960765bb8c809a","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518753,"stop":1737025518758,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["'handlers.CampaignClassifierHandler.senders'","None"],"tags":[]},{"name":"test_initialize_handler_registry_from_config","uid":"2218d563edfcb28b","parentUid":"38f0c3aaee2cd705ce042000e48ba959","status":"passed","time":{"start":1737025518766,"stop":1737025518770,"duration":4},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"38f0c3aaee2cd705ce042000e48ba959"},{"name":"test_health","children":[{"name":"test_health_check_endpoint","uid":"56405ea09e846ef8","parentUid":"dff5b8f8eec3c0c3c2aa3895415408e1","status":"passed","time":{"start":1737025518779,"stop":1737025518781,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"dff5b8f8eec3c0c3c2aa3895415408e1"},{"name":"test_logging","children":[{"name":"test_logging_initialization","uid":"efb1fe42793af5c7","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1737025518785,"stop":1737025518791,"duration":6},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_logging_incoming_request","uid":"973e2af53949481d","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1737025518797,"stop":1737025518799,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"test_json_logging_format","uid":"ed420732293ac3e1","parentUid":"1a3cda20207bc22a6e6c4005d89ca157","status":"passed","time":{"start":1737025518803,"stop":1737025518804,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1a3cda20207bc22a6e6c4005d89ca157"}],"uid":"f6772fab1eb16954eefa7bdfd38fc185"}]}